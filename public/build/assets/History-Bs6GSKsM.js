import{r as o,j as e}from"./app-DoBWYgz3.js";import{D as u,B as p,C as x,W as _,A as y,S as h,a as g,b as f,c as j,d as N}from"./Detail-cYrVKPzq.js";import{A as b}from"./AppLayout-DoTUXd5f.js";import{E as v}from"./index-CAXEohh2.js";import"./x-C1AxY1uT.js";const T=({onClose:r})=>{const[s,a]=o.useState(null),n=[{id:1,nouid:"12345",order_id:"ORDER-123",amount:"500000.00",bank:"bca",phone:"08123456789",va_number:"1234567890",payment_type:"bank_transfer",status:"pending",type:"topup",note:"Top up saldo",payment_data:{currency:"IDR",order_id:"ORDER-123",va_numbers:[{bank:"bca",va_number:"1234567890"}],expiry_time:"2023-08-17 23:59:59",merchant_id:"M123",status_code:"201",fraud_status:"pending",gross_amount:"500000.00",payment_type:"bank_transfer",status_message:"Success",transaction_id:"T123",transaction_time:"2023-08-15 10:30:00",transaction_status:"pending"},failure_message:null,expiry_time:"2023-08-17T23:59:59Z",created_at:"2023-08-15T10:30:00Z",updated_at:"2023-08-15T10:30:00Z"},{id:2,nouid:"12346",order_id:"ORDER-124",amount:"-150000.00",bank:"",phone:"",va_number:"",payment_type:"credit_card",status:"success",type:"payment",note:"Pembelian makanan",payment_data:{currency:"IDR",order_id:"ORDER-124",expiry_time:"",merchant_id:"M124",status_code:"200",fraud_status:"accept",gross_amount:"150000.00",payment_type:"credit_card",status_message:"Success",transaction_id:"T124",transaction_time:"2023-08-14 19:45:00",transaction_status:"capture"},failure_message:null,expiry_time:"",created_at:"2023-08-14T19:45:00Z",updated_at:"2023-08-14T19:45:00Z"}],i=t=>{switch(t){case"success":return e.jsx(N,{className:"text-green-500",size:16});case"pending":return e.jsx(j,{className:"text-yellow-500",size:16});case"failed":return e.jsx(f,{className:"text-red-500",size:16});default:return null}},c=t=>{switch(t){case"topup":case"deposit":return e.jsx(g,{className:"text-blue-500",size:20});case"payment":case"purchase":return e.jsx(h,{className:"text-purple-500",size:20});case"transfer":return e.jsx(y,{className:"text-orange-500",size:20});case"withdraw":return e.jsx(_,{className:"text-amber-500",size:20});case"bank_transfer":case"credit_card":return e.jsx(x,{className:"text-indigo-500",size:20});default:return e.jsx(p,{className:"text-gray-500",size:20})}},d=t=>parseFloat(t).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}),l=t=>new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return e.jsx(b,{title:"Top Up",children:e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between bg-primary px-4 py-4 text-primary-foreground",children:[e.jsxs("button",{onClick:()=>r(),className:"flex items-center space-x-2",children:[e.jsx(v,{className:"text-primary-foreground"}),e.jsx("span",{children:"Kembali"})]}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Riwayat Transaksi"})]}),e.jsx("div",{className:"divide-y",children:n.map(t=>e.jsxs("div",{className:"flex cursor-pointer items-center p-4 transition-colors hover:bg-gray-50",onClick:()=>a(t),children:[e.jsx("div",{className:"mr-3 flex h-10 w-10 items-center justify-center rounded-full bg-gray-100",children:c(t.type||t.payment_type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium capitalize",children:t.type||t.payment_type.replace("_"," ")}),e.jsx("p",{className:"text-sm text-gray-500",children:t.note||`Order: ${t.order_id}`}),e.jsxs("div",{className:"mt-1 flex items-center text-sm",children:[i(t.status),e.jsx("span",{className:"ml-1 text-gray-500 capitalize",children:t.status})]})]}),e.jsxs("div",{className:`text-right ${parseFloat(t.amount)>0?"text-green-600":"text-red-600"}`,children:[e.jsxs("div",{className:"font-medium",children:[parseFloat(t.amount)>0?"+":"",d(t.amount)]}),e.jsx("div",{className:"mt-1 text-xs text-gray-400",children:l(t.created_at)})]})]},t.id))}),s&&e.jsx(u,{transaction:s,onClose:()=>a(null)})]})})};export{T as default};
